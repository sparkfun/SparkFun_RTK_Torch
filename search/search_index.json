{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"SparkFun RTK Torch (GPS-25662) <p>The RTK Torch is the latest and greatest generation RTK product from SparkFun Electronics and is your one-stop shop for high-precision geolocation and GIS needs. We compiled our wish list and got it all: tri-band reception, tilt compensation, and a built-in LoRa radio, all protected inside a waterproof housing.</p>"},{"location":"contribute/","title":"Contribute: Make an Augmentation!","text":"<p>Spot an improvement opportunity? Feel free to contribute to our open-source design and documentation. </p>"},{"location":"contribute/#material-file-document-multiple-improve-our-documentation","title":":material-file-document-multiple:\u00a0Improve our Documentation","text":"<p>All of this documentation can be modified by you! Please help us make it better.</p> <ul> <li>These pages are contained in the <code>docs</code> folder of the SparkFun RTK Torch repository.</li> </ul>"},{"location":"contribute/#submit-a-correction","title":"Submit a Correction","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your corrections or improvements to the markdown file.</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ul> <li>Once received, the documentation specialist will automatically be notified.</li> <li>We will review your suggested improvements to make sure they are correct and fit within our documentation standards.</li> </ul> </li> </ol>"},{"location":"file_issue/","title":"Did we make a mistake?","text":"<p>Spot something wrong? Please let us know. </p> <p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the SparkFun Technical Assistance page for some initial troubleshooting. This Submit Issues page is not where users should seek assistance.</p> <p> SparkFun Technical Assistance Page{ .md-button .md-button--primary } </p> <p>If you can't find what you need there, the SparkFun Forums is a great place to search the product forums and ask questions.</p> <p>Account Registration Required</p> <p>For your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"file_issue/#discrepancies-in-the-documentation","title":"Discrepancies in the Documentation","text":"<p>All of our documentation can be modified by you! Please help us make it better.</p> <ul> <li>The documentation files for these pages are contained in the <code>docs</code> folder of the SparkFun RTK Torch.</li> </ul>"},{"location":"file_issue/#spot-something-wrong","title":"\ud83d\udd0d Spot something wrong?","text":"<p>If a section of the documentation is incorrect, please open an issue and let us know.</p>"},{"location":"file_issue/#do-you-have-a-suggested-correction","title":"Do you have a suggested correction?","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your correction(s) or improvement(s) to the markdown file(s)</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ul> <li>Once received, the documentation specialist will automatically be notified.</li> <li>We will review your suggested improvement(s) to make sure they are correct and fit within our documentation standards.</li> </ul> </li> </ol>"},{"location":"file_issue/#does-something-not-make-sense","title":"Does something not make sense? \ud83e\udd14","text":"<p>If part of the design is confusing, please open an issue and let us know.</p>"},{"location":"firmware_overview/","title":"Firmware Overview","text":"<p>RTK Torch connected in SW Maps</p> <p>The RTK Torch runs a universal firmware created by SparkFun called RTK Everywhere. You can find its source here. Please see the Quick Start Guide for the RTK Torch for a summary of how to get the RTK Torch connected over Bluetooth.</p>"},{"location":"hardware_assembly/","title":"Hardware Assembly","text":"<p>RTK Torch on a Prism Pole with Bipod</p> <p>The RTK Torch has a standard 5/8\" 11-TPI threaded base and is compatible with most equipment including surveying poles and equipment.</p> <p>Users can elect to connect to the RTK Torch from a phone, laptop, or tablet. Any device with Bluetooth is compatible. See Connecting Bluetooth for more information.</p>"},{"location":"hardware_overview/","title":"Hardware Overview","text":"<p>This is an overview of the RTK Torch hardware including the parts included with the kit. For an in-depth description of the software and configuration options for the RTK Torch, please refer to the RTK Everywhere Product Manual which describes the software features of all SparkFun RTK Everywhere capable products.</p>"},{"location":"hardware_overview/#gnss-receiver-specifications","title":"GNSS Receiver Specifications","text":"<p>RTK Torch on a Monopod + Bipod</p> <p>The RTK Torch from SparkFun Electronics uses the UM980 high precision RTK capable GNSS receiver from Unicore (datasheet). The receiver is capable of achieving the following accuracies:</p> <ul> <li>Single Point Positioning: <ul> <li>Horizontal: 1.5m</li> <li>Vertical: 2.5m</li> </ul> </li> <li>DGPS:<ul> <li>Horizontal: 0.4m</li> <li>Vertical: 0.8m</li> </ul> </li> <li>RTK:<ul> <li>Horizontal: 8mm</li> <li>Vertical: 15mm</li> </ul> </li> </ul> <p></p> <p>L1/L2/L5 helical antenna</p> <p>The UM980 is capable of receiving the following GNSS frequencies:</p> <ul> <li>GPS: L1C/A, L1C, L2P(Y), L2C, L5</li> <li>GLONASS: L1, L2</li> <li>Galileo: E1, E5a, E5b, E6</li> <li>Beidou: B1I, B2I, B3I, B1C, B2a, B2b</li> <li>QZSS: L1, L2, L5</li> <li>SBAS</li> </ul> <p>The RTK Torch utilizes a specially tuned multi-frequency helical antenna making the overall device smaller and more lightweight than competing units. </p>"},{"location":"hardware_overview/#antenna-reference-point","title":"Antenna Reference Point","text":"<p>SparkFun RTK Torch Antenna Reference Point to Antenna Phase Centers</p> <p>The distance between the ARP on the RTK Torch to the L1 APC (antenna phase center) is 115mm and 118mm to the L2/L5 APC.</p>"},{"location":"hardware_overview/#power-usb","title":"Power / USB","text":"<p>The human interface to the RTK Torch is simplistic by design! There is only one button, one USB port, and three LEDs.</p> <p></p> <p>RTK Torch Power Button and LEDs</p> <p>To turn the RTK Torch on, press and hold the power button for ~4 seconds. You will hear a short beep and all LEDs will illuminate indicating the device has powered on.</p> <p>To turn off the RTK Torch, press and hold the power button for ~4 seconds. You will hear three short beeps and all LEDs will turn off indicating the device has powered down.</p> <p>The GNSS icon has two LEDs: a yellow LED will blink once per second when a GNSS fix is achieved, and a green LED will illuminate solid when RTK Fix is achieved.</p> <p>The Bluetooth icon will blink once per second while waiting for a connection. It will become solid when a device (phone, laptop, tablet, etc) is connected.</p> <p></p> <p>USB Port cover and Power LED</p> <p>A USB-C connector is hidden beneath a rubber cover. The enclosure is IP67 waterproof if and only if this cover is fully closed. </p> <p>The power LED is located next to the USB cover. It is green when external power is connected. When the device is on, this LED will be solid red indicating more than 50% battery capacity remains. The red LED will blink once per second if less than 50% of the battery capacity remains.</p>"},{"location":"hardware_overview/#enclosure","title":"Enclosure","text":"<p>Torch Enclosure</p> <p>The RTK Torch utilizes a rugged enclosure made of a cast aluminum body with a plastic cover over the tri-band helical antenna.</p> <p></p> <p>L1/L2/L5 helical antenna</p> <p>The helical antenna is specially tuned to receive multiple GNSS frequencies including:</p> <ul> <li>GPS: L1C/A, L1C, L2P(Y), L2C, L5</li> <li>GLONASS: L1, L2</li> <li>Galileo: E1, E5a, E5b, E6</li> <li>Beidou: B1I, B2I, B3I, B1C, B2a, B2b</li> <li>QZSS: L1, L2, L5</li> <li>SBAS</li> </ul> <p>Two additional antennas are included: 915MHz for intra-radio communication (LoRa capable) and 2.4GHz for Bluetooth and WiFi connectivity.</p> <p></p> <p>Standard 5/8\" 11-TPI mount</p> <p>The bottom of the RTK Torch includes a standard 5/8\" 11 thread-per-inch mount. This is commonly found on Surveying equipment and is compatible with standard surveying poles. </p> <p></p> <p>The RTK Torch kit includes a 1/4\" to 5/8\" thread adapter if users wish to connect the Torch to a lower-cost monopole.  </p>"},{"location":"hardware_overview/#internal-mainboard","title":"Internal Mainboard","text":"<p>Main PCB Assembly</p> <p>While the user should never need to open the RTK Torch, above is an image of the top of the main PCB assembly. This shows the ESP32-WROOM-32UE-N16R2 module (16MB Flash, 2MB PSRAM), the UM980 Tri-band High Precision GNSS receiver, the IM19 IMU / Tilt Compensation sensor, the STM32WLE5CCU6 MCU with built-in LoRa, and 1W amplifier/front-end (centered at 900MHz).</p> <p>Located on the back side, are the MP2762AGV Charger IC, bq40z50 battery monitor, and the HUSB238 PD Sink IC. These combined allow for fast PD charging and monitoring of the 7.2V 6.8Ahr 49Whr battery pack.</p>"},{"location":"hardware_overview/#tilt-compensation","title":"Tilt Compensation","text":"<p>RTK Torch taking readings at an angle</p> <p>The RTK Torch benefits from an internal IMU that can allow a user to take very accurate location readings even if the pole is not completely vertical.</p> <p>The IM19 inertial module fuses MEMS sensor and GNSS RTK positioning data to deliver low-cost, high-precision attitude measurement, delivering corrected RTK position data while adding as little as 1cm inaccuracy to the position of the point of the surveying pole.</p> <p>IM19 Features</p> <ul> <li>Extremely fast initializations, within 1~2s (95%)</li> <li>Accuracy 1 cm up to 30\u00b0 tilt angle, 2 cm up to 60\u00b0</li> <li>Very fast calibration</li> <li>Reduces overall mapping inaccuracies and increases productivity by not requiring pole leveling in the field</li> </ul> <p>In Rover mode with Tilt Compensation, once RTK Fix is achieved, tilt compensation can be enabled by tilting the unit back and forth on a surveyor's pole. Once the IMU is activated, the outputted NMEA sentences will be modified to output the location of the tip of the pole (not the location of the receiver). This allows taking measurements near trees, structure corners, even underwater topographies with accuracies of +1cm when the tilt is less than 30 degrees, and +2cm when the tilt is less than 60 degrees.</p> <p>For more information, see the Tilt Compensation feature in the product manual.</p>"},{"location":"hardware_overview/#battery-and-charging","title":"Battery and Charging","text":"<p>The RTK Torch includes a 7.2V 6.8Ahr 49Whr battery. This is capable of running the device for more than 25 hours under worst-case conditions.</p> <p>The RTK Torch utilizes fast USB-C PD charging up to 18W. This allows a fully discharged RTK Torch to be charged to 100% in a few hours.</p>"},{"location":"hardware_overview/#beeper","title":"Beeper","text":"<p>The RTK Torch includes an internal buzzer to give audio feedback to the user. The following prompts are provided.</p> <ul> <li>Power On: Beep once</li> <li>Power Off: Beep three times</li> <li>Entering Tilt Compensation: Beep Twice</li> <li>While Tilt Compensation is Active: Short Beep every 10 seconds</li> <li>Exit Tilt Compensation: Long Beep</li> </ul>"},{"location":"hardware_overview/#carrying-case","title":"Carrying Case","text":"<p>The RTK Torch comes in a hard-sided case that can be locked if desired. </p> <p></p> <p>RTK Torch Accessories</p> <p>The RTK Torch kit includes the RTK Torch device, a 1/4\" to 5/8\" thread adapter, and a 65W USB-C PD fast charger. Additional pockets are available for additional gear.</p> <p>Note: International adapter sockets are available for the power adapter if needed.</p>"},{"location":"operating_modes/","title":"Operating Modes","text":"<p>The RTK Torch can be used in a variety of modes:</p> <ul> <li>GNSS Positioning (~800mm accuracy) - also known as 'Rover'</li> <li>GNSS Positioning with RTK (8mm accuracy) - using a local base station</li> <li>GNSS Positioning with PPP-RTK (14 to 60mm accuracy) - using PointPerfect corrections</li> <li>GNSS Positioning with Tilt Compensation</li> <li>GNSS Base Station</li> <li>GNSS Base Station NTRIP Server</li> </ul>"},{"location":"operating_modes/#rover","title":"Rover","text":"<p>In Rover mode, the RTK Torch will receive L1, L2, and L5 GNSS signals from the four constellations (GPS, GLONASS, Galileo, and BeiDou) and output the devices' position with accuracies around 800mm. The device will calculate the position based on the combination of GNSS and any correction signals (primarily DGPS if available). Similar to a standard-grade GPS receiver, the RTK Torch will output industry standard NMEA sentences at 2Hz and broadcast them over any paired Bluetooth\u00ae device. The end user will need to parse the NMEA sentences using commonly available mobile apps, GIS products, or embedded devices (there are many open source libraries).</p>"},{"location":"operating_modes/#rover-with-rtk","title":"Rover with RTK","text":"<p>In Rover with RTK mode, the RTK Torch will receive GNSS signals and combine them with RTCM correction data to achieve accuracy of approximately 8mm horizontal positional accuracy and 15mm vertical accuracy. The RTCM correction data is most easily obtained over a cellular connection to the Internet using a free app on your phone (see SW Maps or Lefebure NTRIP) and sent over Bluetooth\u00ae. Additionally, corrections can be obtained over WiFi, or ESP-NOW. Correction data can come from 2nd unit setup as a base station, from a free local base station, or from a paid service. See the Quick Start guide and the NTRIP Client for more information.</p>"},{"location":"operating_modes/#rover-with-ppp-rtk","title":"Rover with PPP-RTK","text":"<p>In Rover with PPP-RTK, the RTK Torch will receive GNSS signals and combine them with correction data provided over an IP connection (usually a cell phone hotspot). The corrections are State Space Representation (SSR) based and are also known as PPP-RTK. These corrections are obtained from ublox's PointPerfect network. Time to RTK Fix can take up to 300 seconds and has 14 to 60mm horizontal positional accuracy.</p>"},{"location":"operating_modes/#rover-with-tilt-compensation","title":"Rover with Tilt Compensation","text":"<p>In Rover with Tilt Compensation, once RTK Fix is achieved, tilt compensation can be enabled by tilting the unit back and forth on a surveyor's pole. Once the IMU is activated, the outputted NMEA sentences will be modified to output the location of the tip of the pole (not the location of the receiver). This allows taking measurements near trees, structure corners, even underwater topographies with accuracies of +1cm when the tilt is less than 30 degrees, and +2cm when the tilt is less than 60 degrees.</p>"},{"location":"operating_modes/#base-station","title":"Base Station","text":"<p>In Base Station mode the device is mounted to a fixed position (like a tripod or roof) and will initiate a survey. After 60 to 120 seconds the survey will complete and the RTK Torch will begin transmitting RTCM correction data over the built in 2.4GHz radio (if ESP-NOW is enabled). A base is often used in conjunction with a second RTK Torch unit (or RTK Facet, RTK Surveyor, Express, Express Plus, etc) set to 'Rover' to obtain the 8mm accuracy. Said differently, the Base sits still and sends correction data to the Rover so that the Rover can output a really accurate position. The relative accuracy of this mode is 8mm base-to-rover but has higher (up to a meter) of absolute inaccuracy. See how to set up a permanent base to decrease the absolute inaccuracy.</p>"},{"location":"operating_modes/#base-station-with-ntrip","title":"Base Station with NTRIP","text":"<p>In Base Station with NTRIP the device will enter Base Station mode. If WiFi is available, and the NTRIP Server(s) is enabled, its corrections will be broadcast to up to four NTRIP casters and made available to any rover that also has internet access and is within 10-20km.</p>"},{"location":"reference_documents/","title":"Reference Documents","text":"<p>The following datasheets are available for the SparkFun RTK Torch:</p> <ul> <li>RTK Torch Schematic</li> <li>ESP32-WROOM-32UE-N16R2 Microcontroller SOM</li> <li>UM980 GNSS Receiver Datasheet</li> <li>UM980 GNSS Receiver Commands</li> <li>IM19 Tilt Sensor Integration Guide</li> <li>IM19 Tilt Sensor Datasheet</li> <li>MP2762A Charger IC</li> <li>BQ40Z50 Battery Pack Manager Datasheet</li> <li>BQ40Z50 Battery Pack Manager Technical Reference</li> <li>HUSB238 USB PD Sink Controller Datasheet</li> <li>HUSB238 USB PD Sink Controller Registers</li> <li>STM32WLE5CCU6 LoRa capable MCU</li> <li>SKY65313-21 900 MHz Transmit/Receive Front-End Module</li> <li>UM980 Firmware v10110</li> <li>UM980 Firmware v11833</li> </ul>"}]}